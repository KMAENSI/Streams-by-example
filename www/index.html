<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Java 8 // STREAM API by Breña</title>

    <meta name="description" content="A web presentation about STREAM API">
    <meta name="author" content="Juan Antonio Breña Moral">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="./reveal.css">
    <link rel="stylesheet" href="./black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="./zenburn.css">
</head>
<body>
    <div class="reveal">

        <div class="slides">
            <section>
                <h1>STREAM API</h1>
                <h3>Learning by Examples.</h3>
                <i>Juan Antonio Breña Moral</i>
            </section>

            <section id="fragments">
                <h2>Instructions</h2>
                <p>This is a interactive course.</p>
                <pre><code class="hljava" data-trim contenteditable>
                    gradle init --type java-library
                </code></pre>
                <p><span class="fragment">The presentation explain some concepts </span> <span class="fragment">and the reader compiles the examples.</span></p>
                <p class="fragment">It's easy.</p>
                <p class="fragment">Enjoy!</p>
            </section>

            <section>
                <h2>Agenda</h2>
                <ol>
                    <li>Introduction</li>
                    <li>Data Sources</li>
                    <li>Aggregate operations</li>
                </ol>
            </section>

            <section data-background="./cat.gif">
            </section>

            <section>
                <section>
                    <h2>Introduction</h2>
                    <h3>Collections vs Streams</h3>
                    <p>
                        A collection is an in-memory data structure, which holds all the values that the data structure currently has—every element in the collection has to be computed before it can be added to the collection.
                        In contrast, a stream is a conceptually fixed data structure in which elements are computed on demand.                    </p>
                    <p>
                        <a href="http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html" target="_blank">Processing Data with Java SE 8 Streams, Part 1</a>
                    </p>
                </section>
                <section>
                    <h2>Example0.java</h2>
                    <pre><code class="hljava" data-trim contenteditable>
List<Transaction> groceryTransactions = new Arraylist<>();
for(Transaction t: transactions){
    if(t.getType() == Transaction.GROCERY){
        groceryTransactions.add(t);
    }
}
Collections.sort(groceryTransactions, new Comparator(){
    public int compare(Transaction t1, Transaction t2){
        return t2.getValue().compareTo(t1.getValue());
    }
});
List<Integer> transactionIds = new ArrayList<>();
for(Transaction t: groceryTransactions){
    transactionsIds.add(t.getId());
}
                    </code></pre>
                </section>
                <section>
                    <h2>Introduction</h2>
                    <h3>Definition</h3>
                    <p>
                        Streams are Monads.
                        In functional programming, a monad is a structure that represents computations defined as sequences of steps.
                        A type with a monad structure defines what it means to chain operations, or nest functions of that type together.
                    </p>
                    <p>
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" target="_blank">Javadocs</a>
                    </p>
                </section>
                <section>
                    <h2>Example1.java</h2>
                    <pre><code class="hljava" data-trim contenteditable>
import java.util.Arrays;
import java.util.List;

public class Example1 {
    public static void main(String[] args) {
        List&lt;String&gt; myFirstStream
            = Arrays.asList("a1", "a2", "b1", "c2", "c1");
        myFirstStream.stream()
            .filter(s -> s.startsWith("c"))
            .map(String::toUpperCase)
            .sorted()
            .forEach(System.out::println);
    }
}
                    </code></pre>
                </section>

                <section data-background="./clock.gif">
                    <h1>Your turn!</h1>
                </section>

                <section>
                    <pre><code class="hlbash" data-trim contenteditable>

C1
C2
                    </code></pre>
                </section>

                <section>
                    <p>
                        <img data-src="./dicaprio.gif">
                    </p>
                </section>
                <!--
                <section>
                    <h2>Monads operators</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>method</th>
                                <th>Modified and type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>collect()</td>
                                <td>&lt;R,A&gt; R</td>
                            </tr>
                            <tr>
                                <td>count()</td>
                                <td>long</td>
                            </tr>
                            <tr>
                                <td>filter()</td>
                                <td>Stream&lt;T&gt;</td>
                            </tr>
                            <tr>
                                <td>findFirst()</td>
                                <td>Optional&lt;T&gt;</td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                -->
            </section>
            <section>
                <section>
                    <h2>Data Sources</h2>
                    <h3>Lists</h3>
                    <pre><code class="hljava" data-trim contenteditable>
                        import java.util.Arrays;
                        import java.util.List;

                        public class Example3 {
                        public static void main(String[] args) {
                            Arrays.asList("a1", "a2", "a3")
                                .stream()
                                .findFirst()
                                .ifPresent(System.out::println);
                        }
                    </code></pre>
                </section>
                <section>
                    <h2>Data Sources</h2>
                    <h3>Streams</h3>
                    <pre><code class="hljava" data-trim contenteditable>
                        import java.util.Arrays;
                        import java.util.List;

                        public class Example3 {
                        public static void main(String[] args) {
                            Stream.of("a1", "a2", "a3")
                                .findFirst()
                                .ifPresent(System.out::println);
                        }
                    </code></pre>
                </section>
                <section>
                    <h2>Data Sources</h2>
                    <h3>IntStream</h3>
                    <pre><code class="hljava" data-trim contenteditable>
                        import java.util.Arrays;
                        import java.util.List;

                        public class Example4 {
                        public static void main(String[] args) {
                            IntStream.range(1, 4)
                                .forEach(System.out::println);
                        }
                    </code></pre>
                </section>
                <section>
                    <h2>Data Sources</h2>
                    <h3>Arrays</h3>
                    <pre><code class="hljava" data-trim contenteditable>
                        import java.util.Arrays;
                        import java.util.List;

                        public class Example5 {
                        public static void main(String[] args) {
                            Arrays.stream(new int[] {1, 2, 3})
                                .map(n -> 2 * n + 1)
                                .average()
                                .ifPresent(System.out::println);
                        }
                    </code></pre>
                </section>
            </section>
            <section>
                <section>
                    <h2>Aggregate operations</h2>
                    <h3>Filter, Map & ForEach</h3>
                        <pre><code class="hljava" data-trim contenteditable>
import java.util.Arrays;
import java.util.List;

public class Example5 {
public static void main(String[] args) {
    Stream.of("d2", "a2", "b1", "b3", "c")
        .filter(s -> {
            return s.startsWith("a");
        })
        .map(s -> {
            return s.toUpperCase();
        })
        .forEach(s -> System.out.println("forEach: " + s));
        }
}
                        </code></pre>
                </section>
                <section>
                    <h2>Aggregate operations</h2>
                    <h3>Filter, Map & ForEach</h3>
                        <pre><code class="hljava" data-trim contenteditable>
import java.util.Arrays;
import java.util.List;

public class Example5 {
    public static void main(String[] args) {
                            Stream.of("d2", "a2", "b1", "b3", "c")
                            .filter(s -> {
                            System.out.println("filter: " + s);
                            return s.startsWith("a");
                            })
                            .sorted((s1, s2) -> {
                            System.out.printf("sort: %s; %s\n", s1, s2);
                            return s1.compareTo(s2);
                            })
                            .map(s -> {
                            System.out.println("map: " + s);
                            return s.toUpperCase();
                            })
                            .forEach(s -> System.out.println("forEach: " + s));
}
                        </code></pre>
                </section>
                <section>
                    <h2>Aggregate operations</h2>
                    <h3>Collector</h3>
                        <pre><code class="hljava" data-trim contenteditable>
                            List<Person> filtered =
                            persons
                            .stream()
                            .filter(p -> p.name.startsWith("P"))
                            .collect(Collectors.toList());
                        </code></pre>
                </section>
            </section>
            <section>
                <h2>Thanks</h2>

            </section>
            <section>
                <p>
                    <img data-src="Duke3DprogressionLarge.png">
                </p>
            </section>
            
        </div>

    </div>

    <script src="./head.js"></script>
    <script src="./reveal.js"></script>
    <script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
                    { src: './marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: './markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: './highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});

	</script>
</body>
</html>
